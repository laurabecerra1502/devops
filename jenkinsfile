@Library('SonarQube') _

pipeline {
    agent any
    stages {
        stage('Checkout') {
            steps {
                script {
                    sonarqube.checkout(branch: "master", gitrepo: "https://github.com/laurabecerra1502/aplicacion-webpage.git")
                }
            }
        }

        stage('scan') {
            steps {
                script {
                    sonarqube.scan(scannerhome: "sonarqube")
                    sonarqube.sonarqubescan(scannertool: "sonarqube")
                }
            }
        }        
    }
}
