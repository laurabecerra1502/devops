@Library('SonarQube') _
@Library('Hello') _

pipeline {
    agent any
    stages {
        stage('Hello') {
            steps {
                script {
                    hello.hello(msn: "Lauris la lindis preciosis")
                }
            }
        }
    stages {
        stage('Checkout') {
            steps {
                script {
                    sonarqube.checkout(branch: "master", gitrepo: "https://github.com/laurabecerra1502/aplicacion-webpage.git")
                }
            }
        }

        stage('scan') {
            steps {
                script {
                    sonarqube.scan(scannerHome: "sonarqube" , 
                        projectKey: "3labreto" ,
                        projectName: "3labreto" ,
                        projectVersion: "1.0" ,
                        sources: "/var/jenkins_home/workspace/estasies" ,
                        sonarHostUrl: "http://sonarqube:9000 " ,
                        sonarLogin: "admin" ,
                        sonarPassword: "1234" )
                }  
            }        
        }        
    }
}
